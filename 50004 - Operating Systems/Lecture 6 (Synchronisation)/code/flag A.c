void A() 
{
    flag1 = 1;
    if (flag2 == 0)
        critical();
}