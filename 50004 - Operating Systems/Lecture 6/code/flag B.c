void B() 
{
    flag2 = 1;
    if (flag1 == 0)
        critical();
}