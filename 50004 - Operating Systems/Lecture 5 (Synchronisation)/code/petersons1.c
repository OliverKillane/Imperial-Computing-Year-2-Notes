enter_critical(1);
critical_section();
leave_critical(1);